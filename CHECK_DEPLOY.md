# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è

## –¢–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–º–∏—Ç –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω ‚úÖ

–Ø —Ç–æ–ª—å–∫–æ —á—Ç–æ —Å–¥–µ–ª–∞–ª —Ç–µ—Å—Ç–æ–≤—ã–π –∫–æ–º–º–∏—Ç –∏ push –≤ GitHub. –¢–µ–ø–µ—Ä—å –ø—Ä–æ–≤–µ—Ä–∏–º, —Ä–∞–±–æ—Ç–∞–µ—Ç –ª–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π.

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:

```bash
ssh root@178.209.127.17

# 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –¥–µ–ø–ª–æ—è
tail -20 /var/log/deploy-kp.log

# 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, –µ—Å—Ç—å –ª–∏ –Ω–æ–≤—ã–π —Ñ–∞–π–ª test_deploy_check.txt
cd /var/www/html
ls -la test_deploy_check.txt

# 3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç
git log --oneline -5

# 4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π –≤—Ä—É—á–Ω—É—é –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
/usr/local/bin/deploy-kp.sh

# 5. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –ø–æ—Å–ª–µ —Ä—É—á–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞
tail -20 /var/log/deploy-kp.log
```

## –ß—Ç–æ –¥–æ–ª–∂–Ω–æ –ø—Ä–æ–∏–∑–æ–π—Ç–∏

1. **–ï—Å–ª–∏ Cron –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
   - –í —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç –∫–æ–¥ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è
   - –í –ª–æ–≥–∞—Ö –ø–æ—è–≤–∏—Ç—Å—è –∑–∞–ø–∏—Å—å –æ –¥–µ–ø–ª–æ–µ
   - –§–∞–π–ª `test_deploy_check.txt` –ø–æ—è–≤–∏—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

2. **–ï—Å–ª–∏ Cron –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
   - –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É —É—Å—Ç–∞–Ω–æ–≤–∫–∏ (—Å–º. –Ω–∏–∂–µ)

## –ï—Å–ª–∏ Cron –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω

–í—ã–ø–æ–ª–Ω–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É:

```bash
ssh root@178.209.127.17
cd /tmp
wget https://raw.githubusercontent.com/yarrobong/kp/main/deploy-cron.sh
chmod +x deploy-cron.sh
sudo bash deploy-cron.sh /var/www/html root
```

## –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

–í—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—Å–µ–≥–æ:

```bash
ssh root@178.209.127.17 << 'EOF'
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ Cron –∑–∞–¥–∞—á–∏ ==="
crontab -l | grep deploy-kp || echo "Cron –∑–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞!"

echo ""
echo "=== –ü–æ—Å–ª–µ–¥–Ω–∏–µ –ª–æ–≥–∏ ==="
tail -10 /var/log/deploy-kp.log 2>/dev/null || echo "–õ–æ–≥–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã"

echo ""
echo "=== –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–∞–π–ª–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ ==="
cd /var/www/html
ls -la test_deploy_check.txt 2>/dev/null && echo "‚úÖ –§–∞–π–ª –Ω–∞–π–¥–µ–Ω!" || echo "‚ùå –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω"

echo ""
echo "=== –ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç ==="
git log --oneline -1 2>/dev/null || echo "Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω"

echo ""
echo "=== –ó–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è –≤—Ä—É—á–Ω—É—é ==="
/usr/local/bin/deploy-kp.sh 2>&1 | tail -5
EOF
```

## –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:

‚úÖ **–ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- Cron –∑–∞–¥–∞—á–∞ –Ω–∞–π–¥–µ–Ω–∞
- –í –ª–æ–≥–∞—Ö –µ—Å—Ç—å –∑–∞–ø–∏—Å–∏ –æ –ø—Ä–æ–≤–µ—Ä–∫–∞—Ö
- –§–∞–π–ª `test_deploy_check.txt` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ü–æ—Å–ª–µ–¥–Ω–∏–π –∫–æ–º–º–∏—Ç —Å–æ–≤–ø–∞–¥–∞–µ—Ç —Å GitHub

‚ùå **–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:**
- Cron –∑–∞–¥–∞—á–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ ‚Üí –Ω—É–∂–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
- –§–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω ‚Üí –Ω—É–∂–Ω–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–ø–ª–æ–π –≤—Ä—É—á–Ω—É—é –∏–ª–∏ –ø–æ–¥–æ–∂–¥–∞—Ç—å –¥–æ 5 –º–∏–Ω—É—Ç

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
2. –ï—Å–ª–∏ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –æ—Ç–ª–∏—á–Ω–æ! üéâ
3. –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç - –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É Cron (–∫–æ–º–∞–Ω–¥—ã –≤—ã—à–µ)

